**关系 chapter[4]**
# 关系-关系的定义
## 1. 关系-关系的相关定义
- 关系的定义
	关系的实质还是**集合**
	$R\subseteq A_1\times A_2 \times ... \times A_n$ 表示n元关系
		当$R\subseteq A$ 一元关系退化为一般的集合
- 平凡关系
	- $\emptyset$ 空关系
	- $R =  A_1\times A_2 \times ... \times A_n$  n元全域关系
- 二元关系
	- 表示方法
		- 集合表示法
			$<x,y> \in R$ 
		- 中缀表示法
			x R y
	- 定义域Domain与值域Range
		- 定义域Domain = { $x| \exists y(y\in B \land <x,y>\in R)$  } $\subseteq A$
		- 值域Range = { $y|\exists x(x\in A \land <x,y>\in R)$ }$\subseteq B$
# 关系-关系的表示方法
## 1. 关系-关系的表示方法
- 集合表示法
	B = { 1,2,4 }
	R = { $<x,y> | x,y \in B \land y能被整除(x|y)$ }
	 ={ <1,1>,<1,2>,<1,4>,<2,2>,<2,4>,<4,4> }
	- 恒等关系
		$I_A$ = { <x,x> | $x\in A$}
- 归纳定义法
	![[Pasted image 20241217211002.png]]
- 矩阵表示法
	![[Pasted image 20241217211206.png]]
- 关系图
	关系图**必须是**$A^{2}$ 上的关系,简称**A上的关系**
	A中的每个元素都是图的结点$a_i$
	$a_i \rightarrow a_j$ 表示 $a_i R  a_j$
	![[Pasted image 20241217211727.png]]

# 关系-关系的一般属性
## 1. 关系-关系的一般属性!!
设$R \subseteq A^2$ 
- 自反关系
	![[Pasted image 20241217211953.png]]
- 反自反关系
	![[Pasted image 20241217212045.png]]
- 对称关系
	要有就都有，要没有就都没有
	![[Pasted image 20241217212150.png]]
	
- 反对称关系
	不能同时有
	![[Pasted image 20241217212210.png]]
	
- 传递关系
	![[Pasted image 20241217212459.png]]
- Summary!!
	自反与反自反，对称与反对称**不矛盾**
	- 自反和反自反**不能同时满足**，但**可以同时不满足**(对角线上有0有1)
	- 对称与反对称**不能同时不满足**，但**可以同时满足**(对称位是0)
# 关系-等价关系和集合的划分
## 1. 关系-等价关系和集合的划分-等价关系
- 引入
	对于**命题公式集合P**上的逻辑恒等关系$\Leftrightarrow$
	$F\Leftrightarrow G$ 的含义是F和G具有相同的真值表
	每类实际上是P的子集合；
	每类中的每个公式的真值表相同，即类中的任何两个公式都有关系$\Leftrightarrow$
	不同的类之间是两两不相交；或者说如果相交就是同一个类；**商集**
	P中的每个元素一定在某个类中；
	分类将集合中的元素等同起来；即在关系ô下每类中所有元素的性态是一致的，应此可以用类中的任意一元素代表类的所有成员；**代表元**
	从而实现了对集合的抽象
- 等价关系
	设$R\subseteq A^2$ ,R是等价关系 iff
	$R是自反的\land 对称的 \land 传递的$!!Base
- 常用的恒等关系
	- 全域关系$A^2$
	- 恒等关系$I_A$
	- 逻辑恒等关系$\Leftrightarrow$
	- 集合相等关系
	- k同余关系(模k关系)mod k 
		设Z是整数集合,$k\in N$ , **k同余关系**$=_k$ 的定义如下
		$m =_k n$ iff $\exists i \in Z \land m - n = ki$
	- 等比关系
		设Z是整数集合,$Z\times (Z-{0})$ 上的**等比关系Q**定义如下:
		<a,b>Q<c,d>,iff, ad = bc
	- 极限相等关系
		![[Pasted image 20241217220333.png]]
		
## 2. 关系-等价关系和集合的划分-等价类!!
- **等价类$[a]_R$定义**
	![[Pasted image 20241218101039.png]]
	- 定理
		设R是A上的等价关系,那么下述三个条件等价
		![[Pasted image 20241218101702.png]]
	- 定理的含义
		等价类要么相等，要么不相交
		等价类的代表元是可以更换的,所以等价类与代表元无关
		同一等价类中的元素**两两都有关系**
		不相交的等价类中的元素**之间都没有关系**
- 划分$\pi$定义
	A是一集合,A的一个划分是一集簇(集合的集合)
	![[Pasted image 20241218102221.png]]
	并且满足下述两条件
	![[Pasted image 20241218102706.png]]
	- 由等价关系R诱导的划分
		R是A上的等价关系
		![[Pasted image 20241218105350.png]]
	- 划分的等价关系
		设$\pi$ 是集合A上的一个划分,A上的关系$R_{\pi}$ 定义如下
		![[Pasted image 20241218110435.png]]
		则：
			![[Pasted image 20241218110446.png]]
- 商集合
	设R是集合A上的等价关系,那么商集合为:
	![[Pasted image 20241218110749.png]]
	所以商集合的本质就是**由R诱导的划分**
	其中A/R的元素个数 即|A/R|被称为关系R的秩Rank
	